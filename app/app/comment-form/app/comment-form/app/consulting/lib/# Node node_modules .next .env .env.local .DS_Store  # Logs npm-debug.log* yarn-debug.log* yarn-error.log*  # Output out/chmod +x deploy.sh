#!/bin/bash

# Stop on error
set -e

echo "ğŸ”„ Pulling latest code from GitHub..."
git pull origin main

echo "ğŸ“¦ Installing dependencies..."
npm install

echo "ğŸ—ï¸ Building project..."
npm run build

echo "ğŸš€ Deploying to Vercel..."
vercel --prod --confirm

# Optional: Trigger a Vercel deploy hook URL
# Replace with your actual deploy hook URL
DEPLOY_HOOK_URL="https://api.vercel.com/v1/integrations/deploy/prj_abc123/abcXYZ"

echo "ğŸ“¡ Triggering deploy hook..."
curl -X POST $DEPLOY_HOOK_URL

echo "âœ… Deployment completed."
